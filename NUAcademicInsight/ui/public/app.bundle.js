!function(e){function t(t){for(var r,i,u=t[0],c=t[1],l=t[2],f=0,p=[];f<u.length;f++)i=u[f],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(s&&s(t);p.length;)p.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,u=1;u<n.length;u++){var c=n[u];0!==o[c]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={0:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var u=window.webpackJsonp=window.webpackJsonp||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var s=c;a.push([268,1]),n()}({268:function(e,t,n){e.exports=n(577)},577:function(e,t,n){"use strict";n.r(t);n(269);var r=n(0),o=n.n(r),a=n(18),i=n.n(a),u=n(224),c=n(593),l=n(589),s=n(587),f=n(584),p=n(591),m=n(261),y=n(588),h=n(266),d=n(46),v=n(255),b=n(254),w=n(130),g=n(183),E=n.n(g),O=n(596),S=n(253),j=n(579),P=n(595),R=n(135),k=n(580),_=o.a.createContext({signedIn:!1});function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=M(e);if(t){var o=M(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return B(this,n)}}function B(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(i,e);var t,n,r,a=I(i);function i(){return x(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.review,n=e.location.search,r=e.deleteReview,a=e.index,i=!this.context.signedIn,u={pathname:"/reviews/".concat(t.id),search:n},c=o.a.createElement(j.a,{id:"close-tooltip",placement:"top"},"Edit Review"),l=o.a.createElement(j.a,{id:"delete-tooltip",placement:"top"},"Delete Review"),s=o.a.createElement("tr",null,o.a.createElement("td",null,t.id),o.a.createElement("td",null,t.courseName),o.a.createElement("td",null,t.reviewer),o.a.createElement("td",null,t.courseDate?t.courseDate.toDateString():""),o.a.createElement("td",null,t.title),o.a.createElement("td",null,o.a.createElement(d.LinkContainer,{to:"/edit/".concat(t.id)},o.a.createElement(P.a,{delayShow:1e3,overlay:c},o.a.createElement(R.a,{bsSize:"xsmall"},o.a.createElement(m.a,{glyph:"edit"}))))," ",o.a.createElement(P.a,{delayShow:1e3,overlay:l},o.a.createElement(R.a,{disabled:i,bsSize:"xsmall",onClick:function(e){e.preventDefault(),r(a)}},o.a.createElement(m.a,{glyph:"trash"})))));return o.a.createElement(d.LinkContainer,{to:u},s)}}])&&D(t.prototype,n),r&&D(t,r),i}(o.a.Component);N.contextType=_;var A=Object(S.a)(N);function U(e){var t=e.reviews,n=e.deleteReview,r=t.map((function(e,t){return o.a.createElement(A,{key:e.id,review:e,deleteReview:n,index:t})}));return o.a.createElement(k.a,{bordered:!0,condensed:!0,hover:!0,responsive:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"ID"),o.a.createElement("th",null,"CourseName"),o.a.createElement("th",null,"Reviewer"),o.a.createElement("th",null,"Semester"),o.a.createElement("th",null,"Title"),o.a.createElement("th",null,"Action"))),o.a.createElement("tbody",null,r))}function F(e){var t=e.review;return t?o.a.createElement("div",null,o.a.createElement("h3",null,"Review"),o.a.createElement("pre",null,t.answer2)):null}delete A.contextType;var L=n(262),$=n.n(L);function V(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function H(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){V(a,r,o,i,u,"next",e)}function u(e){V(a,r,o,i,u,"throw",e)}i(void 0)}))}}var q=new RegExp("^\\d\\d\\d\\d-\\d\\d-\\d\\d");function z(e,t){return q.test(t)?new Date(t):t}function W(e){return J.apply(this,arguments)}function J(){return(J=H(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,u,c,l,s,f,p=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p.length>1&&void 0!==p[1]?p[1]:{},r=p.length>2&&void 0!==p[2]?p[2]:null,o=p.length>3&&void 0!==p[3]?p[3]:null,a=window.ENV.UI_API_ENDPOINT,e.prev=4,i={"Content-Type":"application/json"},o&&(i.Cookie=o),e.next=9,$()(a,{method:"POST",credentials:"include",headers:i,body:JSON.stringify({query:t,variables:n})});case 9:return u=e.sent,e.next=12,u.text();case 12:return c=e.sent,(l=JSON.parse(c,z)).errors&&("BAD_USER_INPUT"===(s=l.errors[0]).extensions.code?(f=s.extensions.exception.errors.join("\n "),r&&r("".concat(s.message,":\n ").concat(f))):r&&r("".concat(s.extensions.code,": ").concat(s.message))),e.abrupt("return",l.data);case 18:return e.prev=18,e.t0=e.catch(4),r&&r("Error in sending data to server: ".concat(e.t0.message)),e.abrupt("return",null);case 22:case"end":return e.stop()}}),e,null,[[4,18]])})))).apply(this,arguments)}var Q=n(139),G=n(581);function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ne(e);if(t){var o=ne(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return te(this,n)}}function te(e,t){return!t||"object"!==K(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(i,e);var t,n,r,a=ee(i);function i(){return X(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.showing,n=e.onDismiss;t&&(clearTimeout(this.dismissTimer),this.dismissTimer=setTimeout(n,5e3))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.dismissTimer)}},{key:"render",value:function(){var e=this.props,t=e.showing,n=e.bsStyle,r=e.onDismiss,a=e.children;return o.a.createElement(Q.a,{in:t},o.a.createElement("div",{style:{position:"fixed",bottom:20,left:20,zIndex:10}},o.a.createElement(G.a,{bsStyle:n,onDismiss:r},a)))}}])&&Y(t.prototype,n),r&&Y(t,r),i}(o.a.Component),oe={};function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e){return function(e){if(Array.isArray(e))return ue(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ue(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ce(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function le(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){ce(a,r,o,i,u,"next",e)}function u(e){ce(a,r,o,i,u,"throw",e)}i(void 0)}))}}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=he(e);if(t){var o=he(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return me(this,n)}}function me(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?ye(e):t}function ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function de(e){var t=e.params,n=e.page,r=e.activePage,a=e.children;return t.set("page",n),0===n?o.a.cloneElement(a,{disabled:!0}):o.a.createElement(d.LinkContainer,{isActive:function(){return n===r},to:{search:"?".concat(t.toString())}},a)}var ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(l,e);var t,n,r,a,i,u,c=pe(l);function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),e=c.call(this);var t=oe.initialData||{reviewList:{}},n=t.reviewList,r=n.reviews,o=n.pages,a=t.review;return delete oe.initialData,e.state={reviews:r,selectedReview:a,toastVisible:!1,toastMessage:"",toastType:"info",pages:o},e.deleteReview=e.deleteReview.bind(ye(e)),e.showSuccess=e.showSuccess.bind(ye(e)),e.showError=e.showError.bind(ye(e)),e.dismissToast=e.dismissToast.bind(ye(e)),e}return t=l,n=[{key:"componentDidMount",value:function(){null==this.state.reviews&&this.loadData()}},{key:"componentDidUpdate",value:function(e){var t=e.location.search,n=e.match.params.id,r=this.props,o=r.location.search,a=r.match.params.id;t===o&&n===a||this.loadData()}},{key:"loadData",value:(u=le(regeneratorRuntime.mark((function e(){var t,n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.location.search,r=t.match,t.showError,e.next=3,l.fetchData(r,n,this.showError);case 3:(o=e.sent)&&this.setState({reviews:o.reviewList.reviews,selectedReview:o.review,pages:o.reviewList.pages});case 5:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"deleteReview",value:(i=le(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,u,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.state.reviews,r=this.props,o=r.location,a=o.pathname,i=o.search,u=r.history,c=n[t].id,e.next=6,W("mutation reviewDelete($id: Int!) {\n      reviewDelete(id: $id)\n    }",{id:c},this.showError);case 6:(l=e.sent)&&l.reviewDelete?(this.setState((function(e){var n=ie(e.reviews);return a==="/reviews/".concat(c)&&u.push({pathname:"/reviews",search:i}),n.splice(t,1),{reviews:n}})),this.showSuccess("Deleted review ".concat(c," successfully."))):this.loadData();case 8:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"showSuccess",value:function(e){this.setState({toastVisible:!0,toastMessage:e,toastType:"success"})}},{key:"showError",value:function(e){this.setState({toastVisible:!0,toastMessage:e,toastType:"danger"})}},{key:"dismissToast",value:function(){this.setState({toastVisible:!1})}},{key:"render",value:function(){var e=this.state.reviews;if(null==e)return null;var t=this.state,n=t.toastVisible,r=t.toastType,a=t.toastMessage,i=this.state,u=i.selectedReview,c=i.pages,l=this.props.location.search,s=new E.a(l),f=parseInt(s.get("page"),10);Number.isNaN(f)&&(f=1);for(var p=5*Math.floor((f-1)/5)+1,m=p+5-1,y=1===p?0:p-5,h=m>=c?0:p+5,d=[],v=p;v<=Math.min(m,c);v+=1)s.set("page",v),d.push(o.a.createElement(de,{key:v,params:s,activePage:f,page:v},o.a.createElement(O.a.Item,null,v)));return o.a.createElement(o.a.Fragment,null,o.a.createElement(U,{reviews:e,deleteReview:this.deleteReview}),o.a.createElement(F,{review:u}),o.a.createElement(O.a,null,o.a.createElement(de,{params:s,page:y},o.a.createElement(O.a.Item,null,"<")),d,o.a.createElement(de,{params:s,page:h},o.a.createElement(O.a.Item,null,">"))),o.a.createElement(re,{showing:n,onDismiss:this.dismissToast,bsStyle:r},a))}}],r=[{key:"fetchData",value:(a=le(regeneratorRuntime.mark((function e(t,n,r){var o,a,i,u,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new E.a(n),a={hasSelection:!1,selectedId:0},i=t.params.id,u=parseInt(i,10),Number.isNaN(u)||(a.hasSelection=!0,a.selectedId=u),c=parseInt(o.get("page"),10),Number.isNaN(c)&&(c=1),a.page=c,e.next=11,W("query reviewList(\n      $hasSelection: Boolean!\n      $selectedId: Int!\n      $page: Int\n    ) {\n      reviewList(\n        page: $page\n      ){\n        reviews {\n          id title courseName reviewer courseDate answer2\n        }\n        pages\n      }\n      review(id: $selectedId) @include (if : $hasSelection) {\n        id answer2\n      }\n    }",a,r);case 11:return l=e.sent,e.abrupt("return",l);case 13:case"end":return e.stop()}}),e)}))),function(e,t,n){return a.apply(this,arguments)})}],n&&se(t.prototype,n),r&&se(t,r),l}(o.a.Component),be=n(102),we=n(590),ge=n(582),Ee=n(583),Oe=n(585),Se=n(594),je=n(586);function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(){return(Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Te(e);if(t){var o=Te(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xe(this,n)}}function xe(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?De(e):t}function De(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ie(e){return function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(u,t);var n,r,a,i=Ce(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e)).state={toastVisible:!1,toastMessage:"",toastType:"success"},t.showSuccess=t.showSuccess.bind(De(t)),t.showError=t.showError.bind(De(t)),t.dismissToast=t.dismissToast.bind(De(t)),t}return n=u,(r=[{key:"showSuccess",value:function(e){this.setState({toastVisible:!0,toastMessage:e,toastType:"success"})}},{key:"showError",value:function(e){this.setState({toastVisible:!0,toastMessage:e,toastType:"danger"})}},{key:"dismissToast",value:function(){this.setState({toastVisible:!1})}},{key:"render",value:function(){var t=this.state,n=t.toastType,r=t.toastVisible,a=t.toastMessage;return o.a.createElement(o.a.Fragment,null,o.a.createElement(e,Re({showError:this.showError,showSuccess:this.showSuccess,dismissToast:this.dismissToast},this.props)),o.a.createElement(re,{bsStyle:n,showing:r,onDismiss:this.dismissToast},a))}}])&&ke(n.prototype,r),a&&ke(n,a),u}(o.a.Component)}function Be(e){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(){return(Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ae(e,t){return(Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$e(e);if(t){var o=$e(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fe(this,n)}}function Fe(e,t){return!t||"object"!==Be(t)&&"function"!=typeof t?Le(e):t}function Le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $e(e){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}o.a.Component;function Ve(e){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var He=["value","onValidityChange"];function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ze(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Je(e,t){return(Je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xe(e);if(t){var o=Xe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ge(this,n)}}function Ge(e,t){return!t||"object"!==Ve(t)&&"function"!=typeof t?Ke(e):t}function Ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Je(e,t)}(i,e);var t,n,r,a=Qe(i);function i(e){var t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={value:(n=e.value,null!=n?n.toISOString().substr(0,10):""),focused:!1,valid:!0},t.onFocus=t.onFocus.bind(Ke(t)),t.onBlur=t.onBlur.bind(Ke(t)),t.onChange=t.onChange.bind(Ke(t)),t}return t=i,(n=[{key:"onFocus",value:function(){this.setState({focused:!0})}},{key:"onBlur",value:function(e){var t,n=this.state,r=n.value,o=n.valid,a=this.props,i=a.onValidityChange,u=a.onChange,c=(t=new Date(r),Number.isNaN(t.getTime())?null:t),l=""===r||null!=c;l!==o&&i&&i(e,l),this.setState({focused:!1,valid:l}),l&&u(e,c)}},{key:"onChange",value:function(e){e.target.value.match(/^[\d-]*$/)&&this.setState({value:e.target.value})}},{key:"render",value:function(){var e,t=this.state,n=t.valid,r=t.focused,a=t.value,i=this.props,u=i.value,c=(i.onValidityChange,ze(i,He)),l=r||!n?a:null!=(e=u)?e.toDateString():"";return o.a.createElement("input",qe({},c,{value:l,placeholder:r?"yyyy-mm-dd":null,onFocus:this.onFocus,onBlur:this.onBlur,onChange:this.onChange}))}}])&&We(t.prototype,n),r&&We(t,r),i}(o.a.Component);function Ze(e){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var et=["tag"];function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ot(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function at(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function it(e,t){return(it=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=st(e);if(t){var o=st(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ct(this,n)}}function ct(e,t){return!t||"object"!==Ze(t)&&"function"!=typeof t?lt(e):t}function lt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function st(e){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ft=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&it(e,t)}(i,e);var t,n,r,a=ut(i);function i(e){var t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={value:(n=e.value,null!=n?n:"")},t.onBlur=t.onBlur.bind(lt(t)),t.onChange=t.onChange.bind(lt(t)),t}return t=i,(n=[{key:"onChange",value:function(e){this.setState({value:e.target.value})}},{key:"onBlur",value:function(e){var t,n=this.props.onChange,r=this.state.value;n(e,0===(t=r).trim().length?null:t)}},{key:"render",value:function(){var e=this.state.value,t=this.props,n=t.tag,r=void 0===n?"input":n,a=ot(t,et);return o.a.createElement(r,nt(nt({},a),{},{value:e,onBlur:this.onBlur,onChange:this.onChange}))}}])&&at(t.prototype,n),r&&at(t,r),i}(o.a.Component);function pt(e){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var mt=["id","createdDate"];function yt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ht(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function dt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){ht(a,r,o,i,u,"next",e)}function u(e){ht(a,r,o,i,u,"throw",e)}i(void 0)}))}}function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Et(e,t){return(Et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ot(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pt(e);if(t){var o=Pt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return St(this,n)}}function St(e,t){return!t||"object"!==pt(t)&&"function"!=typeof t?jt(e):t}function jt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pt(e){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Rt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Et(e,t)}(l,e);var t,n,r,a,i,u,c=Ot(l);function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),e=c.call(this);var t=oe.initialData?oe.initialData.review:null;return delete oe.initialData,e.state={review:t,invalidFields:{},showingValidation:!1},e.onChange=e.onChange.bind(jt(e)),e.handleSubmit=e.handleSubmit.bind(jt(e)),e.onValidityChange=e.onValidityChange.bind(jt(e)),e}return t=l,n=[{key:"componentDidMount",value:function(){null==this.state.review&&this.loadData()}},{key:"componentDidUpdate",value:function(e){var t=e.match.params.id;this.props.match.params.id!==t&&this.loadData()}},{key:"onChange",value:function(e,t){var n=e.target,r=n.name,o=n.value,a=void 0===t?o:t;this.setState((function(e){return{review:bt(bt({},e.review),{},wt({},r,a))}}))}},{key:"onValidityChange",value:function(e,t){var n=e.target.name;this.setState((function(e){var r=bt(bt({},e.invalidFields),{},wt({},n,!t));return t&&delete r[n],{invalidFields:r}}))}},{key:"handleSubmit",value:(u=dt(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,u,c,l,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),this.showValidation(),n=this.state,r=n.review,o=n.invalidFields,0===Object.keys(o).length){e.next=5;break}return e.abrupt("return");case 5:return a=r.id,r.createdDate,i=yt(r,mt),u=this.props,c=u.showSuccess,l=u.showError,e.next=10,W("mutation reviewUpdate(\n      $id: Int!\n      $changes: ReviewUpdateInputs!\n    ) {\n      reviewUpdate(\n        id: $id\n        changes: $changes\n      ) {\n        id\n        courseName\n        createdDate\n        reviewer\n        courseDate\n        title\n        answer1\n        answer2\n        answer3\n        answer4\n        additional\n      }\n    }",{changes:i,id:a},l);case 10:(s=e.sent)&&(this.setState({review:s.reviewUpdate}),c("Updated review successfully"));case 12:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"loadData",value:(i=dt(regeneratorRuntime.mark((function e(){var t,n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.match,r=t.showError,e.next=3,l.fetchData(n,null,r);case 3:o=e.sent,this.setState({review:o?o.review:{},invalidFields:{}});case 5:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"showValidation",value:function(){this.setState({showingValidation:!0})}},{key:"dismissValidation",value:function(){this.setState({showingValidation:!1})}},{key:"render",value:function(){if(null==this.state.review)return null;var e=this.state.review.id,t=this.props.match.params.id;if(null==e)return null!=t?o.a.createElement("h3",null,"Review with ID ".concat(t," not found.")):null;var n,r=this.state,a=r.invalidFields,i=r.showingValidation;0!==Object.keys(a).length&&i&&(n=o.a.createElement(G.a,{bsStyle:"danger",onDismiss:this.dismissValidation},"Please correct invalid fields before submitting."));var u=this.state.review,c=u.title,l=u.reviewer,s=this.state.review,p=s.courseName,m=s.createdDate,y=s.courseDate,h=this.state.review,v=h.answer1,b=h.answer2,w=h.answer3,g=h.answer4,E=h.additional,O=this.context;return o.a.createElement(we.a,null,o.a.createElement(we.a.Heading,null,o.a.createElement(we.a.Title,null,"Editing review: ".concat(e))),o.a.createElement(we.a.Body,null,o.a.createElement(ge.a,{horizontal:!0,onSubmit:this.handleSubmit},o.a.createElement(Ee.a,null,o.a.createElement(f.a,{componentClass:Oe.a,sm:3},"Created"),o.a.createElement(f.a,{sm:9},o.a.createElement(Se.a.Static,null,m.toDateString()))),o.a.createElement(Ee.a,null,o.a.createElement(f.a,{componentClass:Oe.a,sm:3},"Reviewer"),o.a.createElement(f.a,{sm:9},o.a.createElement(Se.a,{componentClass:ft,name:"reviewer",value:l,onChange:this.onChange,key:e}))),o.a.createElement(Ee.a,null,o.a.createElement(f.a,{componentClass:Oe.a,sm:3},"Title"),o.a.createElement(f.a,{sm:9},o.a.createElement(Se.a,{componentClass:ft,name:"title",value:c,onChange:this.onChange,key:e}))),o.a.createElement(Ee.a,null,o.a.createElement(f.a,{componentClass:Oe.a,sm:3},"CourseName"),o.a.createElement(f.a,{sm:9},o.a.createElement(Se.a,{componentClass:ft,size:50,name:"courseName",value:p,onChange:this.onChange,key:e}))),o.a.createElement(Ee.a,{validationState:a.due?"error":null},o.a.createElement(f.a,{componentClass:Oe.a,sm:3},"When did you took the course?"),o.a.createElement(f.a,{sm:9},o.a.createElement(Se.a,{componentClass:Ye,onValidityChange:this.onValidityChange,name:"courseDate",value:y,onChange:this.onChange,key:e}),o.a.createElement(Se.a.Feedback,null))),o.a.createElement(Ee.a,null,o.a.createElement(f.a,{componentClass:Oe.a,sm:3},"How strictly did the professor grade assignments and exams?"),o.a.createElement(f.a,{sm:9},o.a.createElement(Se.a,{componentClass:ft,tag:"textarea",rows:3,cols:50,name:"answer1",value:v,onChange:this.onChange,key:e}))),o.a.createElement(Ee.a,null,o.a.createElement(f.a,{componentClass:Oe.a,sm:3},"How was the workload (for example, was there a lot of reading)?"),o.a.createElement(f.a,{sm:9},o.a.createElement(Se.a,{componentClass:ft,tag:"textarea",rows:3,cols:50,name:"answer2",value:b,onChange:this.onChange,key:e}))),o.a.createElement(Ee.a,null,o.a.createElement(f.a,{componentClass:Oe.a,sm:3},"How much did the professor help you learn?"),o.a.createElement(f.a,{sm:9},o.a.createElement(Se.a,{componentClass:ft,tag:"textarea",rows:3,cols:50,name:"answer3",value:w,onChange:this.onChange,key:e}))),o.a.createElement(Ee.a,null,o.a.createElement(f.a,{componentClass:Oe.a,sm:3},"How much did you enjoy the lectures?"),o.a.createElement(f.a,{sm:9},o.a.createElement(Se.a,{componentClass:ft,tag:"textarea",rows:3,cols:50,name:"answer4",value:g,onChange:this.onChange,key:e}))),o.a.createElement(Ee.a,null,o.a.createElement(f.a,{componentClass:Oe.a,sm:3},"Additional Comments"),o.a.createElement(f.a,{sm:9},o.a.createElement(Se.a,{componentClass:ft,tag:"textarea",rows:3,cols:50,name:"additional",value:E,onChange:this.onChange,key:e}))),o.a.createElement(Ee.a,null,o.a.createElement(f.a,{smOffset:3,sm:6},o.a.createElement(je.a,null,o.a.createElement(R.a,{disabled:!O.signedIn,bsStyle:"primary",type:"submit"},"Submit"),o.a.createElement(d.LinkContainer,{to:"/reviews"},o.a.createElement(R.a,{bsStyle:"link"},"Back"))))),o.a.createElement(Ee.a,null,o.a.createElement(f.a,{smOffset:3,sm:9},n)))),o.a.createElement(we.a.Footer,null,o.a.createElement(be.a,{to:"/edit/".concat(e-1)},"Prev")," | ",o.a.createElement(be.a,{to:"/edit/".concat(e+1)},"Next")))}}],r=[{key:"fetchData",value:(a=dt(regeneratorRuntime.mark((function e(t,n,r){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.params.id,e.next=4,W("query review($id: Int!) {\n      review(id: $id) {\n        id\n        courseName\n        createdDate\n        reviewer\n        courseDate\n        title\n        answer1\n        answer2\n        answer3\n        answer4\n        additional\n      }\n    }",{id:o},r);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)}))),function(e,t,n){return a.apply(this,arguments)})}],n&&gt(t.prototype,n),r&&gt(t,r),l}(o.a.Component);Rt.contextType=_;var kt=Ie(Rt);kt.fetchData=Rt.fetchData;var _t=kt;function Ct(e){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xt(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Dt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){xt(a,r,o,i,u,"next",e)}function u(e){xt(a,r,o,i,u,"throw",e)}i(void 0)}))}}function Tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function It(e,t){return(It=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Nt(e);if(t){var o=Nt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mt(this,n)}}function Mt(e,t){return!t||"object"!==Ct(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nt(e){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var At=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&It(e,t)}(c,e);var t,n,r,a,i,u=Bt(c);function c(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),t=u.call(this,e);var n=oe.initialData?oe.initialData.about:null;return delete oe.initialData,t.state={apiAbout:n},t}return t=c,n=[{key:"componentDidMount",value:(i=Dt(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.state.apiAbout){e.next=6;break}return e.next=4,c.fetchData();case 4:t=e.sent,this.setState({apiAbout:t.about});case 6:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"render",value:function(){var e=this.state.apiAbout;return o.a.createElement("div",{className:"text-center"},o.a.createElement("h3",null,"Issue Tracker version 0.9"),o.a.createElement("h4",null,e))}}],r=[{key:"fetchData",value:(a=Dt(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W("query {about}");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})}],n&&Tt(t.prototype,n),r&&Tt(t,r),c}(o.a.Component);var Ut=function(){return o.a.createElement("h1",null,"Page Not Found")},Ft=n(1),Lt=n.n(Ft);function $t(e){return($t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vt(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qt(e,t){return(qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qt(e);if(t){var o=Qt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wt(this,n)}}function Wt(e,t){return!t||"object"!==$t(t)&&"function"!=typeof t?Jt(e):t}function Jt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qt(e){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gt(e){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xt(e,t){return(Xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tn(e);if(t){var o=tn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zt(this,n)}}function Zt(e,t){return!t||"object"!==Gt(t)&&"function"!=typeof t?en(e):t}function en(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tn(e){return(tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nn(e){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function on(e,t){return(on=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function an(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=cn(e);if(t){var o=cn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return un(this,n)}}function un(e,t){return!t||"object"!==nn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cn(e){return(cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qt(e,t)}(c,e);var t,n,r,a,i,u=zt(c);function c(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(e=u.call(this)).handleSubmit=e.handleSubmit.bind(Jt(e)),e}return t=c,(n=[{key:"handleSubmit",value:(a=regeneratorRuntime.mark((function e(t){var n,r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=document.forms.login,r={id:n.email.value},o=this.props.showError,e.next=7,graphQLFetch("query profile($id: String!) {\n      profile(id: $id) {\n        firstname lastname email\n      }\n    }",{login:r},o);case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){Vt(o,n,r,i,u,"next",e)}function u(e){Vt(o,n,r,i,u,"throw",e)}i(void 0)}))},function(e){return i.apply(this,arguments)})},{key:"render",value:function(){return o.a.createElement(ge.a,{inline:!0,name:"login",align:"center",onSubmit:this.handleSubmit},o.a.createElement("h1",{align:"center"},"Log In"),o.a.createElement("p",{size:"sm",className:"text-muted",align:"center"},"Do not have an account?"," ",o.a.createElement("a",{href:"./SignUp"},"Sign Up")," "),o.a.createElement("p",null," "),o.a.createElement("div",{align:"center"},o.a.createElement(Se.a,{type:"text",name:"email",placeholder:"Email"}),o.a.createElement("p",null," "),o.a.createElement(Se.a,{type:"text",name:"password",placeholder:"Password"}),o.a.createElement("p",null," "),o.a.createElement(R.a,{bsStyle:"primary",type:"submit",onClick:this.handleSubmit},"Log In")))}}])&&Ht(t.prototype,n),r&&Ht(t,r),c}(o.a.Component)).propTypes={createLogin:Lt.a.func.isRequired},(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xt(e,t)}(i,e);var t,n,r,a=Yt(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=a.call(this)).handleSubmit=e.handleSubmit.bind(en(e)),e}return t=i,(n=[{key:"handleSubmit",value:function(e){e.preventDefault();var t=document.forms.profileAdd,n={email:t.email.value,password:t.password.value,first:t.first.value,last:t.last.value};(0,this.state.createProfile)(n),t.email.value="",t.password.value="",t.first.value="",t.last.value=""}},{key:"render",value:function(){return o.a.createElement(ge.a,{inline:!0,name:"profileAdd",align:"center",onSubmit:this.handleSubmit},o.a.createElement("h1",{align:"center"},"Create An Account"),o.a.createElement("p",{size:"sm",className:"text-muted",align:"center"},"Already have an account?"," ",o.a.createElement("a",{href:"./LogIn"},"Log In")," "),o.a.createElement("p",null," "),o.a.createElement("div",{align:"center"},o.a.createElement(Se.a,{type:"text",name:"first",placeholder:"First Name"}),o.a.createElement("p",null," "),o.a.createElement(Se.a,{type:"text",name:"last",placeholder:"Last Name"}),o.a.createElement("p",null," "),o.a.createElement(Se.a,{type:"text",name:"email",placeholder:"Email"}),o.a.createElement("p",null," "),o.a.createElement(Se.a,{type:"text",name:"password",placeholder:"Password"}),o.a.createElement("p",null," "),o.a.createElement(R.a,{bsStyle:"primary",type:"submit",onClick:this.handleSubmit},"Sign Up")))}}])&&Kt(t.prototype,n),r&&Kt(t,r),i}(o.a.Component)).propTypes={createProfile:Lt.a.func.isRequired};o.a.Component;var ln=[{path:"/reviews/:id?",component:ve},{path:"/edit/:id",component:_t},{path:"/about",component:At},{path:"*",component:Ut}];function sn(){return(sn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function fn(){return o.a.createElement(v.a,null,o.a.createElement(b.a,{exact:!0,from:"/",to:"/reviews"}),ln.map((function(e){return o.a.createElement(w.a,sn({},e,{key:e.path}))})))}var pn=n(263),mn=n.n(pn);function yn(e){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hn(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function dn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vn(e,t){return(vn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=En(e);if(t){var o=En(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wn(this,n)}}function wn(e,t){return!t||"object"!==yn(t)&&"function"!=typeof t?gn(e):t}function gn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function En(e){return(En=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var On=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vn(e,t)}(c,e);var t,n,r,a,i,u=bn(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=u.call(this,e)).onChangeSlection=t.onChangeSelection.bind(gn(t)),t.loadOptions=t.loadOptions.bind(gn(t)),t}return t=c,(n=[{key:"onChangeSelection",value:function(e){var t=e.value;this.props.history.push("/edit/".concat(t))}},{key:"loadOptions",value:(a=regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length<3)){e.next=2;break}return e.abrupt("return",[]);case 2:return n=this.props.showError,e.next=6,W("query reviewList($search: String) {\n      reviewList(search: $search) {\n        reviews {id title}\n      }\n    }",{search:t},n);case 6:return r=e.sent,e.abrupt("return",r.reviewList.reviews.map((function(e){return{label:"".concat(e.title),value:e.id}})));case 8:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){hn(o,n,r,i,u,"next",e)}function u(e){hn(o,n,r,i,u,"throw",e)}i(void 0)}))},function(e){return i.apply(this,arguments)})},{key:"render",value:function(){return o.a.createElement(mn.a,{instanceId:"search-select",value:"",loadOptions:this.loadOptions,filterOption:function(){return!0},onChange:this.onChangeSelection,components:{DropdownIndicator:null}})}}])&&dn(t.prototype,n),r&&dn(t,r),c}(o.a.Component),Sn=Object(S.a)(Ie(On)),jn=n(592);function Pn(e){return(Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rn(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _n(e,t){return(_n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Tn(e);if(t){var o=Tn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xn(this,n)}}function xn(e,t){return!t||"object"!==Pn(t)&&"function"!=typeof t?Dn(e):t}function Dn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tn(e){return(Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var In=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_n(e,t)}(c,e);var t,n,r,a,i,u=Cn(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=u.call(this,e)).state={showing:!1},t.showModal=t.showModal.bind(Dn(t)),t.hideModal=t.hideModal.bind(Dn(t)),t.handleSubmit=t.handleSubmit.bind(Dn(t)),t}return t=c,(n=[{key:"showModal",value:function(){this.setState({showing:!0})}},{key:"hideModal",value:function(){this.setState({showing:!1})}},{key:"handleSubmit",value:(a=regeneratorRuntime.mark((function e(t){var n,r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.hideModal(),n=document.forms.profileAdd,r={firstname:n.first.value,lastname:n.last.value,email:n.email.value,password:n.password.value},o="query profile($id: String!) {\n      profile(id: $id) {\n        firstname lastname email password\n      }\n    }",a=this.props.showError,e.next=8,W(o,{id:r.email},a);case 8:if(!e.sent){e.next=12;break}return a("Account Already Exists"),e.abrupt("return");case 12:return o="mutation profileAdd($profile: ProfileInputs!) {\n      profileAdd(profile: $profile) {\n        id\n      } \n    }",e.next=15,W(o,{profile:r},a);case 15:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){Rn(o,n,r,i,u,"next",e)}function u(e){Rn(o,n,r,i,u,"throw",e)}i(void 0)}))},function(e){return i.apply(this,arguments)})},{key:"render",value:function(){var e=this.state.showing;return o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,{onClick:this.showModal},"Sign Up"),o.a.createElement(jn.a,{keyboard:!0,show:e,onHide:this.hideModal},o.a.createElement(jn.a.Header,{closeButton:!0},o.a.createElement(jn.a.Title,null,"Create Account")),o.a.createElement(jn.a.Body,null,o.a.createElement(ge.a,{name:"profileAdd"},o.a.createElement(Ee.a,null,o.a.createElement(Oe.a,null,"First Name"),o.a.createElement(Se.a,{name:"first",autoFocus:!0})),o.a.createElement(Ee.a,null,o.a.createElement(Oe.a,null,"Last Name"),o.a.createElement(Se.a,{name:"last"})),o.a.createElement(Ee.a,null,o.a.createElement(Oe.a,null,"Email"),o.a.createElement(Se.a,{name:"email"})),o.a.createElement(Ee.a,null,o.a.createElement(Oe.a,null,"Password"),o.a.createElement(Se.a,{name:"password"})))),o.a.createElement(jn.a.Footer,null,o.a.createElement(je.a,null,o.a.createElement(R.a,{type:"button",bsStyle:"primary",onClick:this.handleSubmit},"Sign Up"),o.a.createElement(R.a,{bsStyle:"link",onClick:this.hideModal},"Cancel")))))}}])&&kn(t.prototype,n),r&&kn(t,r),c}(o.a.Component),Bn=Ie(Object(S.a)(In));function Mn(e){return(Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nn(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function An(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Nn(a,r,o,i,u,"next",e)}function u(e){Nn(a,r,o,i,u,"throw",e)}i(void 0)}))}}function Un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fn(e,t){return(Fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ln(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Hn(e);if(t){var o=Hn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $n(this,n)}}function $n(e,t){return!t||"object"!==Mn(t)&&"function"!=typeof t?Vn(e):t}function Vn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hn(e){return(Hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qn=Ie(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fn(e,t)}(c,e);var t,n,r,a,i,u=Ln(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=u.call(this,e)).state={showing:!1},t.showModal=t.showModal.bind(Vn(t)),t.hideModal=t.hideModal.bind(Vn(t)),t.signOut=t.signOut.bind(Vn(t)),t.signIn=t.signIn.bind(Vn(t)),t.profileUrl="./Profile?",t}return t=c,(n=[{key:"showModal",value:function(){this.setState({showing:!0})}},{key:"hideModal",value:function(){this.setState({showing:!1})}},{key:"signIn",value:(i=An(regeneratorRuntime.mark((function e(t){var n,r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.hideModal(),n=document.forms.logAdd,r={id:n.email.value},o=this.props.showError,e.next=8,W("query profile($id: String!) {\n      profile(id: $id) {\n        firstname lastname email password\n      }\n    }",{id:r.id},o);case 8:if(!(a=e.sent)){e.next=15;break}if(a.profile.password===n.password.value){e.next=13;break}return o("Wrong password"),e.abrupt("return");case 13:(0,this.props.onUserChange)({signedIn:!0,givenName:a.profile.firstname,email:a.profile.email,lastName:a.profile.lastname});case 15:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"signOut",value:(a=An(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.hideModal(),(0,this.props.onUserChange)({signedIn:!1,givenName:"",email:"",lastName:""});case 3:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"render",value:function(){var e=this.props.user,t="./Profile?firstname=".concat(e.givenName,"&email=").concat(e.email,"&lastname=").concat(e.lastName);if(e.signedIn)return o.a.createElement(p.a,{title:e.givenName,id:"user"},o.a.createElement(y.a,{href:t},"Profile"),o.a.createElement(y.a,{onClick:this.signOut},"Sign out"));var n=this.state.showing;return o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,{onClick:this.showModal},"Log In"),o.a.createElement(jn.a,{keyboard:!0,show:n,onHide:this.hideModal},o.a.createElement(jn.a.Header,{closeButton:!0},o.a.createElement(jn.a.Title,null,"Log In")),o.a.createElement(jn.a.Body,null,o.a.createElement(ge.a,{name:"logAdd"},o.a.createElement(Ee.a,null,o.a.createElement(Oe.a,null,"Email"),o.a.createElement(Se.a,{name:"email"})),o.a.createElement(Ee.a,null,o.a.createElement(Oe.a,null,"Password"),o.a.createElement(Se.a,{name:"password"})))),o.a.createElement(jn.a.Footer,null,o.a.createElement(je.a,null,o.a.createElement(R.a,{type:"button",bsStyle:"primary",onClick:this.signIn},"Log In"),o.a.createElement(R.a,{bsStyle:"link",onClick:this.hideModal},"Cancel")))))}}])&&Un(t.prototype,n),r&&Un(t,r),c}(o.a.Component));function zn(e){return(zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wn(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qn(e,t){return(Qn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yn(e);if(t){var o=Yn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kn(this,n)}}function Kn(e,t){return!t||"object"!==zn(t)&&"function"!=typeof t?Xn(e):t}function Xn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yn(e){return(Yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Zn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qn(e,t)}(c,e);var t,n,r,a,i,u=Gn(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=u.call(this,e)).state={showing:!1},t.showModal=t.showModal.bind(Xn(t)),t.hideModal=t.hideModal.bind(Xn(t)),t.handleSubmit=t.handleSubmit.bind(Xn(t)),t}return t=c,(n=[{key:"showModal",value:function(){this.setState({showing:!0})}},{key:"hideModal",value:function(){this.setState({showing:!1})}},{key:"handleSubmit",value:(a=regeneratorRuntime.mark((function e(t){var n,r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.hideModal(),n=document.forms.reviewAdd,r={courseName:n.courseName.value,title:n.title.value,createdDate:new Date((new Date).getTime()+864e6)},o=this.props.showError,e.next=8,W("mutation reviewAdd($review: ReviewInputs!) {\n      reviewAdd(review: $review) {\n        id\n      } \n    }",{review:r},o);case 8:(a=e.sent)&&this.props.history.push("/edit/".concat(a.reviewAdd.id));case 10:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){Wn(o,n,r,i,u,"next",e)}function u(e){Wn(o,n,r,i,u,"throw",e)}i(void 0)}))},function(e){return i.apply(this,arguments)})},{key:"render",value:function(){var e=this.state.showing;return this.props.user.signedIn,o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,{onClick:this.showModal},"Write a Review"),o.a.createElement(jn.a,{keyboard:!0,show:e,onHide:this.hideModal},o.a.createElement(jn.a.Header,{closeButton:!0},o.a.createElement(jn.a.Title,null,"Write a Review")),o.a.createElement(jn.a.Body,null,o.a.createElement(ge.a,{name:"reviewAdd"},o.a.createElement(Ee.a,null,o.a.createElement(Oe.a,null,"Title"),o.a.createElement(Se.a,{name:"title",autoFocus:!0})),o.a.createElement(Ee.a,null,o.a.createElement(Oe.a,null,"CourseName"),o.a.createElement(Se.a,{name:"courseName"})))),o.a.createElement(jn.a.Footer,null,o.a.createElement(je.a,null,o.a.createElement(R.a,{type:"button",bsStyle:"primary",onClick:this.handleSubmit},"Submit"),o.a.createElement(R.a,{bsStyle:"link",onClick:this.hideModal},"Cancel")))))}}])&&Jn(t.prototype,n),r&&Jn(t,r),c}(o.a.Component),er=Ie(Object(S.a)(Zn));function tr(e){return(tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nr(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function rr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){nr(a,r,o,i,u,"next",e)}function u(e){nr(a,r,o,i,u,"throw",e)}i(void 0)}))}}function or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ar(e,t){return(ar=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ir(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=lr(e);if(t){var o=lr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ur(this,n)}}function ur(e,t){return!t||"object"!==tr(t)&&"function"!=typeof t?cr(e):t}function cr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lr(e){return(lr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sr(e){var t=e.user,n=e.onUserChange;return o.a.createElement(c.a,{fluid:!0,expand:"lg",bg:"dark",variant:"dark"},o.a.createElement(c.a.Header,null,o.a.createElement(c.a.Brand,null,"Academic Insight")),o.a.createElement(l.a,null,o.a.createElement(d.LinkContainer,{exact:!0,to:"/"},o.a.createElement(s.a,null,"Home")),o.a.createElement(d.LinkContainer,{to:"/reviews"},o.a.createElement(s.a,null,"Reviews")),o.a.createElement(er,{user:t})),o.a.createElement(f.a,{sm:5},o.a.createElement(c.a.Form,null,o.a.createElement(Sn,null))),o.a.createElement(l.a,{pullRight:!0},o.a.createElement(s.a,null," "),o.a.createElement(qn,{user:t,onUserChange:n}),o.a.createElement(p.a,{id:"user-dropdown",title:o.a.createElement(m.a,{glyph:"option-vertical"}),noCaret:!0},o.a.createElement(Bn,{user:t,onUserChange:n}),o.a.createElement(d.LinkContainer,{to:"/about"},o.a.createElement(y.a,null,"About")))))}function fr(){return o.a.createElement("small",null,o.a.createElement("hr",null),o.a.createElement("p",{className:"text-center"}," 2021 Academic Insight"," "))}var pr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ar(e,t)}(c,e);var t,n,r,a,i,u=ir(c);function c(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),t=u.call(this,e);var n=oe.userData?oe.userData.user:null;return delete oe.userData,t.state={user:n},t.onUserChange=t.onUserChange.bind(cr(t)),t}return t=c,n=[{key:"componentDidMount",value:(i=rr(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.state.user){e.next=6;break}return e.next=4,c.fetchData();case 4:t=e.sent,this.setState({user:t.user});case 6:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"onUserChange",value:function(e){this.setState({user:e})}},{key:"render",value:function(){var e=this.state.user;return null==e?null:o.a.createElement("div",null,o.a.createElement(sr,{user:e,onUserChange:this.onUserChange}),o.a.createElement(h.a,{fluid:!0},o.a.createElement(_.Provider,{value:e},o.a.createElement(fn,null))),o.a.createElement(fr,null))}}],r=[{key:"fetchData",value:(a=rr(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,W("query { user {\n      signedIn givenName\n    }}",null,null,t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})}],n&&or(t.prototype,n),r&&or(t,r),c}(o.a.Component);oe.initialData=window.__INITIAL_DATA__,oe.userData=window.__USER_DATA__;var mr=o.a.createElement(u.a,null,o.a.createElement(pr,null));i.a.hydrate(mr,document.getElementById("content"))}});
//# sourceMappingURL=app.bundle.js.map